!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){e.exports=function(e,t){const{_:n,prettier:o}=t;componentsMap=((e={})=>{if(!e||!Array.isArray(e.list))return[];return e.list.reduce((e,t)=>{const n=t.name;if(!e[n]){if(t.dependence)try{let e="string"==typeof t.dependence?JSON.parse(t.dependence):t.dependence;e&&(t.packageName=e.package,t.dependence=e),t.dependenceVersion||(t.dependenceVersion="*"),t.exportName=e.export_name,t.subName=e.sub_name,/^\d/.test(t.dependenceVersion)&&(t.dependenceVersion="^"+t.dependenceVersion)}catch(e){console.log(e)}e[n]=t}return e},{})})(t.componentsMap);const r=new Map,s=[],a={},i=[],c=[],p=t.responsive.width/100||750;let l=!1;const d=e=>/^\{\{.*\}\}$/.test(e),f=e=>"[object Function]"==={}.toString.call(e)?e.toString():"string"==typeof e?e:"object"==typeof e?JSON.stringify(e,(e,t)=>"function"==typeof t?t.toString():t):String(e),u=(e,t)=>{let n="";return Object.keys(e).map(o=>{n+=`.${o}{${h(e[o],t)}}`}),n},m=["fontSize","marginTop","marginBottom","paddingTop","paddingBottom","height","top","bottom","width","maxWidth","left","right","paddingRight","paddingLeft","marginLeft","marginRight","lineHeight","borderBottomRightRadius","borderBottomLeftRadius","borderTopRightRadius","borderTopLeftRadius","borderRadius"],$=["opacity","fontWeight"],h=(e,t)=>{const o=[];for(let r in e){let s=e[r];-1!=m.indexOf(r)?(t?(s=(parseInt(s)/p).toFixed(2),s=0==s?s:s+"vw"):(s=parseInt(s).toFixed(2),s=0==s?s:s+"px"),o.push(`${n.kebabCase(r)}: ${s}`)):-1!=$.indexOf(r)?o.push(`${n.kebabCase(r)}: ${parseFloat(s)}`):o.push(`${n.kebabCase(r)}: ${s}`)}return o.join(";")},y=e=>{const t=e.toString();return{params:t.match(/\([^\(\)]*\)/)[0].slice(1,-1),content:t.slice(t.indexOf("{")+1,t.lastIndexOf("}"))}},g=(e,t)=>{if("string"==typeof e)return d(e)?t?e.slice(1,-1):e.slice(2,-2):t?e:`"${e}"`;if("function"==typeof e){const{params:t,content:n}=y(e);return`(${t}) => {${n}}`}return JSON.stringify(e)},b=e=>{const t=e.componentName.toLowerCase(),n=e.props&&e.props.className||"",o=n?` className="${n}"`:"";let s;n&&(a[n]=e.props.style);let i="";switch(Object.keys(e.props).forEach(t=>{-1===["className","style","text","src","lines"].indexOf(t)&&(i+=` ${t}={${g(e.props[t])}}`)}),t){case"text":const t=g(e.props.text,!0);s=`<span${o}${i}>${t}</span>`;break;case"image":const n=g(e.props.src);s=`<img${o}${i} src={${n}} />`;break;case"div":case"page":case"block":case"component":s=e.children&&e.children.length?`<div${o}${i}>${N(e.children)}</div>`:`<div${o}${i} />`;break;default:s=e.children&&e.children.length?`<${e.componentName}${o}${i}>${N(e.children)}</${e.componentName}>`:`<${e.componentName}${o}${i} />`;const a=(e=>{if(!e)return;const t=componentsMap[e];if(t){const e=r.get(t.packageName);if(e)e.add(t);else{const e=new Set;e.add(t),r.set(t.packageName,e)}}else;})(e.componentName);a&&r.push(a)}var c,p;return e.loop&&(s=((e,t,n)=>{let o,r=t&&t[0]||"item",s=t&&t[1]||"index";Array.isArray(e)?o=f(e):d(e)&&(o=e.slice(2,-2));const a=n.match(/^<.+?\s/)[0].length;n=`${n.slice(0,a)} key={${s}}${n.slice(a)}`;const i=new RegExp("this."+r,"g");return`${o}.map((${r}, ${s}) => {\n      return (${n=n.replace(i,r)});\n    })`})(e.loop,e.loopArgs,s)),e.condition&&(c=e.condition,p=s,s="boolean"==typeof c?`${c} && ${p}`:"string"==typeof c?`${c.slice(2,-2)} && ${p}`:void 0),!e.loop&&!e.condition||e.isRoot||(s=`{${s}}`),s};let x=function(e,t){if(t.hasOwnProperty("children"))for(let n of t.children)e.push(n),x(e,n)};const j=function(e){let t="";for(let n of e.keyframes)t+=`\n  ${(1e4*n.offset/100).toFixed(0)+"%"} {\n    ${n.opacity?"opacity: ".concat(n.opacity)+";":""}\n    ${n.transform?"transform: ".concat(n.transform)+";":""}\n  }\n  `;return`\n@keyframes ${e.name} {\n  ${t}\n}\n`},N=e=>{let t="";if(Array.isArray(e))e.forEach(e=>{t+=N(e)});else if("string"==typeof e)t+=e;else if("object"==typeof e&&"string"==typeof e.componentName){let n=e.componentName.toLowerCase(),o=-1!==["block","component"].indexOf(n);if(l&&o&&(n="div",o=!1),"page"===n&&(l?n="div":(l=!0,o=!0)),o){const t=[],n=[],o=[],r=[],a=["render(){ return ("];let i=[`class ${e.componentName}_${c.length} extends Component {`];if(e.state&&t.push("state = "+f(e.state)),e.methods&&Object.keys(e.methods).forEach(t=>{const{params:n,content:r}=y(e.methods[t]);o.push(`${t}(${n}) {${r}}`)}),e.dataSource&&Array.isArray(e.dataSource.list)&&(e.dataSource.list.forEach(e=>{"boolean"==typeof e.isInit&&e.isInit?r.push(`this.${e.id}();`):"string"==typeof e.isInit&&r.push(`if (${g(e.isInit)}) { this.${e.id}(); }`),o.push((e=>{const t=e.id,{uri:n,method:o,params:r}=e.options,a=e.type;let i={};switch(a){case"fetch":-1===s.indexOf("import {fetch} from whatwg-fetch")&&s.push("import {fetch} from 'whatwg-fetch'"),i={method:o};break;case"jsonp":-1===s.indexOf("import {fetchJsonp} from fetch-jsonp")&&s.push("import jsonp from 'fetch-jsonp'")}Object.keys(e.options).forEach(t=>{-1===["uri","method","params"].indexOf(t)&&(i[t]=f(e.options[t]))}),i=r?`${f(i).slice(0,-1)} ,body: ${d(r)?g(r):f(r)}}`:f(i);let c=`{\n      ${a}(${g(n)}, ${f(i)})\n        .then((response) => response.json())\n    `;if(e.dataHandler){const{params:t,content:n}=y(e.dataHandler);c+=`.then((${t}) => {${n}})\n        .catch((e) => {\n          console.log('error', e);\n        })\n      `}return c+="}",`${t}() ${c}`})(e))}),e.dataSource.dataHandler)){const{params:t,content:n}=y(e.dataSource.dataHandler);o.push(`dataHandler(${t}) {${n}}`),r.push("this.dataHandler()")}e.lifeCycles&&(e.lifeCycles._constructor||n.push(`constructor(props, context) { super(); ${r.join("\n")}}`),Object.keys(e.lifeCycles).forEach(t=>{const{params:o,content:s}=y(e.lifeCycles[t]);"_constructor"===t?n.push(`constructor(${o}) { super(); ${s} ${r.join("\n")}}`):n.push(`${t}(${o}) {${s}}`)})),a.push(b(e)),a.push(");}"),i=i.concat(t).concat(n).concat(o).concat(a),i.push("}"),c.push(i.join("\n"))}else t+=b(e)}return t};t.utils&&Object.keys(t.utils).forEach(e=>{i.push(`const ${e} = ${t.utils[e]}`)}),e.isRoot=!0;N(e);const O=function(e){let t="";e.animation&&(t+=j(e.animation));let n=[];x(n,e);for(let e of n)e.animation&&(t+=j(e.animation));return t}(e);let k=(()=>{const e=[],t=[];for(const[n,o]of r){const r=new Set,s=new Set;for(const e of o){let n=e.exportName,o=e.subName,a=e.name;e.subName&&t.push(`const ${a} = ${n}.${o};`),a===n||e.subName||(n=`${n} as ${a}`),e.dependence.destructuring?s.add(n):r.add(n)}const a=[...r].join(",");let i=[...s].join(",");const c=a&&i?",":"";i&&(i=`{${i}}`),e.push(`import ${a} ${c} ${i} from '${n}'`)}return e.concat(t)})();return k=k.concat(s),{panelDisplay:[{panelName:"index.jsx",panelValue:o.format(`\n          'use strict';\n\n          import React, { Component } from 'react';\n          ${k.join("\n")}\n          import './style.css';\n\n          ${i.join("\n")}\n          ${c.join("\n")}\n          export default ${e.componentName}_0;\n        `,{parser:"babel",printWidth:120,singleQuote:!0}),panelType:"js"},{panelName:"style.css",panelValue:o.format(u(a),{parser:"css"})+O,panelType:"css"},{panelName:"style.responsive.css",panelValue:o.format(""+u(a,!0),{parser:"css"})+O,panelType:"css"}],noTemplate:!0}}}]);